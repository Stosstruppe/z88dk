1     0000              ; intel 8080 アセンブラ 16bit乗算 - Qiita
2     0000              ; https://qiita.com/ohisama@github/items/bdebca416501f9fa1201
3     0000              
4     0000              	org	$d000
5     0000              
6     0000  21 B5 00    	ld	hl, 181
7     0003  11 B4 00    	ld	de, 180
8     0006  CD 0F 00    	call	mul16
9     0009  CD 2A 00    	call	printi
10    000C  C3 66 5C    	jp	$5c66		; monitor
11    000F              
12    000F              ; hl = hl * de
13    000F              mul16:
14    000F  44          	ld	b, h
15    0010  4D          	ld	c, l
16    0011  21 00 00    	ld	hl, 0
17    0014              L1:
18    0014  79          	ld	a, c
19    0015  0F          	rrca
20    0016  30 01       	jr	nc, L2
21    0018  19          	add	hl, de
22    0019              L2:
23    0019  CB 38       	srl	b
24    001B  CB 19       	rr	c
25    001D  79          	ld	a, c
26    001E  B0          	or	b
27    001F  C8          	ret	z
28    0020  CB 23       	sla	e
29    0022  CB 12       	rl	d
30    0024  7A          	ld	a, d
31    0025  B3          	or	e
32    0026  C8          	ret	z
33    0027  C3 14 00    	jp	L1
34    002A              
35    002A              printi:
36    002A  22 A8 F0    	ld	($0f0a8), hl	; FAcc
37    002D  3E 02       	ld	a, 2		; 整数
38    002F  32 45 EF    	ld	($0ef45), a
39    0032  CD 22 2D    	call	$2d22		; FAccの内容を文字列に置き換える
40    0035  CD ED 52    	call	$52ed		; puts
41    0038  3E 0D       	ld	a, $0d
42    003A  DF          	rst	$18
43    003B  3E 0A       	ld	a, $0a
44    003D  DF          	rst	$18
45    003E  C9          	ret
46    003F              
